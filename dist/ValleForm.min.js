function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function e(e,a){var t=[],r=!0,l=!1,n=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(t.push(i.value),!a||t.length!==a);r=!0);}catch(e){l=!0,n=e}finally{try{!r&&o.return&&o.return()}finally{if(l)throw n}}return t}return function(a,t){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a))return e(a,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_makeJsxRows=require("./makeElements/makeJsxRows"),_makeJsxRows2=_interopRequireDefault(_makeJsxRows),_makeSpeedDialActions=require("./makeElements/makeWebcomponents/makeSpeedDialActions"),_makeSpeedDialActions2=_interopRequireDefault(_makeSpeedDialActions),_Snackbar=require("./components/Snackbar"),_Snackbar2=_interopRequireDefault(_Snackbar),_Switch=require("./components/Switch"),_Switch2=_interopRequireDefault(_Switch),_addFieldsValues=require("./fieldsControl/addFieldsValues"),_addFieldsValues2=_interopRequireDefault(_addFieldsValues),_cleanFields=require("./fieldsControl/cleanFields"),_cleanFields2=_interopRequireDefault(_cleanFields),ValleForm=function(e){var a=e.rows,t=void 0===a?[]:a,r=e._id,l=e.values,n=void 0===l?null:l,i=e.readOnly,o=void 0!==i&&i,u=e.baseApi,c=e.canonicalApi,s=e.params,d=e.$loading,_=void 0===d?"loading":d,f=e.buttons,p=void 0===f?[]:f,m=(0,_react.useState)(!1),b=_slicedToArray(m,2),y=b[0],S=b[1],v=(0,_react.useState)(!1),k=_slicedToArray(v,2),A=k[0],F=k[1],q=(0,_react.useState)(!1),w=_slicedToArray(q,2),D=w[0],R=w[1],h=(0,_react.useState)({open:!1,text:"",type:""}),x=_slicedToArray(h,2),E=x[0],C=x[1];(0,_react.useEffect)(function(){return S(o)},[o]),(0,_react.useEffect)(function(){n&&j()},[n]);var T=function(){R(D?!1:!0)},V=_react2.default.createRef(),g=function(){V.current.open=!1},J=function(){S(!1),F(!0),g()},O=function(){S(!0),F(!1),g()},j=function(){(0,_cleanFields2.default)(),(0,_addFieldsValues2.default)(n),S(!0),F(!1),g()},M=function(){(0,_cleanFields2.default)(),S(!1),F(!1),g()},N=function(e,a){C({open:!1}),setTimeout(function(){C({open:!0,text:e,type:a})},100),g()},B=(0,_makeJsxRows2.default)(t,D,y),I=E.open?_react2.default.createElement(_Snackbar2.default,{report:E.text,type:E.type}):null;return t.length>0?_react2.default.createElement("div",{className:"valleForm"},_react2.default.createElement(_Switch2.default,{label:"Limitar campos",readOnly:y,onChange:T}),B,_react2.default.createElement("span",{className:"valleForm__sub"},"* Campos obrigat√≥rios"),_react2.default.createElement("valle-speed-dial",{id:"valleSpeedDial",class:"valleForm__speedDial",ref:V},(0,_makeSpeedDialActions2.default)({buttons:p,readOnly:y,editable:A,baseApi:u,canonicalApi:c,params:s,_id:r,feedbackCb:N,editCb:J,formCb:O,cancelCb:j,newCB:M})),I):_};exports.default=ValleForm;