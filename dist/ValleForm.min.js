function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function e(e,t){var a=[],r=!0,n=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,l=e}finally{try{!r&&o.return&&o.return()}finally{if(n)throw l}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_makeJsxRows=require("./makeElements/makeJsxRows"),_makeJsxRows2=_interopRequireDefault(_makeJsxRows),_makeSpeedDialActions=require("./makeElements/makeWebcomponents/makeSpeedDialActions"),_makeSpeedDialActions2=_interopRequireDefault(_makeSpeedDialActions),_Snackbar=require("./components/Snackbar"),_Snackbar2=_interopRequireDefault(_Snackbar),_Switch=require("./components/Switch"),_Switch2=_interopRequireDefault(_Switch),_addFieldsValues=require("./fieldsControl/addFieldsValues"),_addFieldsValues2=_interopRequireDefault(_addFieldsValues),_cleanFields=require("./fieldsControl/cleanFields"),_cleanFields2=_interopRequireDefault(_cleanFields),ValleForm=function(e){var t=e.rows,a=void 0===t?[]:t,r=e._id,n=e.values,l=void 0===n?null:n,i=e.readOnly,o=void 0!==i&&i,u=e.baseApi,c=e.canonicalApi,s=e.params,d=e.$loading,_=void 0===d?"loading":d,f=e.buttons,p=void 0===f?[]:f,m=e.token,b=void 0===m?"":m,v=(0,_react.useState)(!1),y=_slicedToArray(v,2),S=y[0],k=y[1],A=(0,_react.useState)(!1),F=_slicedToArray(A,2),q=F[0],w=F[1],D=(0,_react.useState)(!1),R=_slicedToArray(D,2),h=R[0],x=R[1],E=(0,_react.useState)({open:!1,text:"",type:""}),C=_slicedToArray(E,2),T=C[0],V=C[1];(0,_react.useEffect)(function(){return k(o)},[o]),(0,_react.useEffect)(function(){l&&N()},[l]);var g=function(){x(h?!1:!0)},J=_react2.default.createRef(),O=function(){J.current.open=!1},j=function(){k(!1),w(!0),O()},M=function(){k(!0),w(!1)},N=function(){(0,_cleanFields2.default)(),(0,_addFieldsValues2.default)(l),k(!0),w(!1),O()},B=function(){(0,_cleanFields2.default)(),k(!1),w(!1),O()},I=function(e,t){V({open:!1}),setTimeout(function(){V({open:!0,text:e,type:t})},100)},L=(0,_makeJsxRows2.default)(a,h,S),P=T.open?_react2.default.createElement(_Snackbar2.default,{report:T.text,type:T.type}):null;return a.length>0?_react2.default.createElement("div",{className:"valleForm"},_react2.default.createElement(_Switch2.default,{label:"Limitar campos",readOnly:S,onChange:g}),L,_react2.default.createElement("span",{className:"valleForm__sub"},"* Campos obrigat√≥rios"),_react2.default.createElement("valle-speed-dial",{id:"valleSpeedDial",class:"valleForm__speedDial",ref:J},(0,_makeSpeedDialActions2.default)({buttons:p,readOnly:S,editable:q,baseApi:u,canonicalApi:c,params:s,_id:r,feedbackCb:I,editCb:j,formCb:M,cancelCb:N,newCB:B,token:b})),P):_};exports.default=ValleForm;