function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function e(e,t){var a=[],l=!0,r=!1,n=void 0;try{for(var i,o=e[Symbol.iterator]();!(l=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);l=!0);}catch(e){r=!0,n=e}finally{try{!l&&o.return&&o.return()}finally{if(r)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_makeJsxRows=require("./makeElements/makeJsxRows"),_makeJsxRows2=_interopRequireDefault(_makeJsxRows),_makeSpeedDialActions=require("./makeElements/makeWebcomponents/makeSpeedDialActions"),_makeSpeedDialActions2=_interopRequireDefault(_makeSpeedDialActions),_Switch=require("./components/Switch"),_Switch2=_interopRequireDefault(_Switch),_addFieldsValues=require("./fieldsControl/addFieldsValues"),_addFieldsValues2=_interopRequireDefault(_addFieldsValues),_cleanFields=require("./fieldsControl/cleanFields"),_cleanFields2=_interopRequireDefault(_cleanFields),ValleForm=function(e){var t=e.tabs,a=void 0===t?[]:t,l=e._id,r=void 0===l?"valleForm":l,n=e.values,i=void 0===n?null:n,o=e.readOnly,s=void 0!==o&&o,c=e.baseApi,u=e.canonicalApi,d=e.params,_=e.$loading,f=void 0===_?"loading":_,m=e.buttons,p=void 0===m?[]:m,v=e.token,b=void 0===v?"":v,F=e.getData,y=e.setSnackBarStatus,S=void 0===y?null:y,k=e.ValleList,D=void 0===k?null:k,h=e.updateValleList,g=void 0===h?null:h,w=e.cleanOldFormValues,A=void 0===w?null:w,q=(0,_react.useState)(!1),E=_slicedToArray(q,2),R=E[0],V=E[1],C=(0,_react.useState)(!1),x=_slicedToArray(C,2),N=x[0],O=x[1],T=(0,_react.useState)(!1),J=_slicedToArray(T,2),L=J[0],j=J[1],B=(0,_react.useState)(0),M=_slicedToArray(B,2),I=M[0],P=M[1];(0,_react.useEffect)(function(){return V(s)},[s]),(0,_react.useEffect)(function(){i&&K()},[i]);var W=function(){j(L?!1:!0)},$=_react2.default.createRef(),z=function(){console.log("==========================="),console.log("Speed Dial:"),console.log($.current),console.log("==========================="),$.current&&($.current.open=!1)},G=function(){V(!1),O(!0),z()},H=function(){V(!0),O(!1),z()},K=function(){(0,_cleanFields2.default)(r),(0,_addFieldsValues2.default)(i,r),V(!0),O(!1),z()},Q=function(){(0,_cleanFields2.default)(r),V(!1),O(!1),z(),A()},U=function(e,t){S&&S({show:!0,text:e,type:t})},X=function(e){P(e)},Y=a.map(function(e,t){var a=I===t,l=a?"valleForm__tabs__title--selected":"";return _react2.default.createElement("button",{key:t,className:"valleForm__tabs__title "+l,onClick:function(){function e(){return X(t)}return e}()},e.title)}),Z=a.map(function(e,t){var a=(0,_makeJsxRows2.default)(e.lines,L,R,N,b,r,c,d,S,D,f),l=I===t,n=l?"valleForm__tabs__tab--visible":"",i=a.filter(function(e){return null!==e});return _react2.default.createElement("div",{key:t,className:"valleForm__tabs__tab "+n},i.length?i:_react2.default.createElement("spam",{className:"valleForm__empty-message"},"Não há campos disponíveis."))});return a.length>0?_react2.default.createElement("div",{className:"valleForm",id:r},_react2.default.createElement(_Switch2.default,{label:"Limitar campos",readOnly:R,onChange:W,_id:String(r)+"-switch"}),1!==a.length?_react2.default.createElement("div",{className:"valleForm__tabs__titles"},Y):null,Z,_react2.default.createElement("span",{className:"valleForm__sub"},"* Campos obrigatórios"),_react2.default.createElement("valle-speed-dial",{id:"valleSpeedDial",class:"valleForm__speedDial",ref:$},(0,_makeSpeedDialActions2.default)({buttons:p,readOnly:R,editable:N,baseApi:c,canonicalApi:u,params:d,_id:r,feedbackCb:U,editCb:G,formCb:H,cancelCb:K,newCB:Q,token:b,getData:F,closeSpeedDial:z,updateValleList:g}))):f};exports.default=ValleForm;